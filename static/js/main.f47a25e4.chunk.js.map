{"version":3,"sources":["pages/Home.js","pages/contribute/Step1.js","components/Spinner.js","components/Activity.js","components/Cropper.js","utils.js","components/SelfieUploadButton.js","resources/face-outline.svg","components/Camera.js","components/SelfieCaptureButton.js","components/ImagePreview.js","components/PersonImages.js","pages/contribute/Step2.js","pages/contribute/Step3.js","pages/contribute/Step4.js","pages/Contribute.js","pages/Database.js","pages/About.js","App.js","reportWebVitals.js","index.js"],"names":["Home","Step1","onNext","className","Button","variant","onClick","Spinner","text","animation","role","Activity","children","isVisible","classNames","AcitvitySpinner","OkButton","props","BackButton","Cropper","image","onCrop","onBack","cropperRef","React","useRef","src","initialAspectRatio","guides","autoCrop","ref","dragMode","movable","rotatable","scalable","zoomable","console","log","imageElement","current","cropper","getCropBoxData","width","height","getCroppedCanvas","toDataURL","meta","hash","md5","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","base64ToImage","base64","Image","SelfieUploadButton","onSelfie","fileInputRef","useState","rawImage","setRawImage","onImageUploadedHandler","event","a","target","files","Utils","img","cleanup","value","click","size","type","accept","capture","onChange","style","croppedImage","Camera","onCapture","isReady","setIsReady","webcamRef","onCaptureHandler","useCallback","getScreenshot","audio","mirrored","screenshotFormat","videoConstraints","facingMode","onUserMedia","faceOutline","alt","SelfieCaptureButton","mode","setMode","onBackHandler","ImagePreview","isPreviewOpened","setIsPreviewOpened","closePreviewHandler","backgroundImage","PersonImages","index","images","setImages","onSelfieHandler","imageElements","map","Step2","Step3","isConsentChecked","setIsConsentChecked","checked","disabled","Step4","Contribute","step","setStep","1","2","3","4","Database","About","NotFound","App","Navbar","bg","expand","collapseOnSelect","Container","Brand","as","Link","to","Toggle","aria-controls","Collapse","id","Nav","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f47a25e4.chunk.js","sourcesContent":["\nconst Home = () => {\n  return (\n    <section>\n      <h1>CommunityFaceKinDB</h1>\n      <p>\n        Database of facial images colleced by community annotated with kinship attributes.\n      </p>\n    </section>\n  );\n}\n\nexport default Home;","import {\n  Button\n} from \"react-bootstrap\";\n\nconst Step1 = ({onNext}) => {\n  return (\n    <section className=\"text-justify\">\n      <h2 className=\"text-center\">Intro</h2>\n      <p>\n        One of the critical steps in <b>machine learning</b> / <b>artificial intelligence</b> is obtaining large and qualitative dataset.\n\n        To provide such dataset to the <b>research community</b>, we are kindly asking you for\n        your contribution. Please take <b>5 minutes</b> and contribute to our dataset.\n      </p>\n      <p>\n        We are tackling the problem of a <b>kinship</b> recognition, verification and synthesis of the <b>facial images</b>.\n\n        While some similar dataset already exists, the <b>quality</b> of images is <b>poor</b>.\n      </p>\n      Properties of high quality image are:\n      <ul>\n        <li>The image contain <b>only single face</b></li>\n        <li>Resolution of the facial area is big as possible</li>\n        <li>Face is possioned directly to the camera</li>\n        <li>Whole face is visible</li>\n      </ul>\n      <div className=\"workflow-buttons\">\n        <Button variant=\"outline-primary\" onClick={onNext}>Contribute</Button>\n      </div>\n    </section>\n  );\n};\n\nexport default Step1;","import {\n  Spinner as BootstrapSpinner \n} from \"react-bootstrap\";\n\nconst Spinner = ({text}) => {\n  return (\n    <div className=\"text-center\">\n      <BootstrapSpinner animation=\"border\" role=\"status\" /><br/>\n      { text ?? \"Loading...\" }\n    </div>\n  );\n};\n\nexport default Spinner;","import React from \"react\";\nimport classNames from \"classnames\";\nimport {\n  Button\n} from \"react-bootstrap\";\nimport \"./Activity.scss\";\nimport Spinner from \"./Spinner\";\n\nconst Activity = ({children, isVisible}) => {\n  return (\n    <div className={classNames({\n      \"activity\": true,\n      \"invisible\": !isVisible\n    })}>\n      <AcitvitySpinner />\n      {children}\n    </div>\n  );\n};\n\nconst AcitvitySpinner = () => <div className=\"activity-spinner\"><Spinner /></div>;\n\nActivity.OkButton = (props) => <Button className=\"activity-btn activity-ok-btn\" {...props}/>;\nActivity.BackButton = (props) => <Button className=\"activity-btn activity-back-btn\" variant=\"secondary\" {...props}/>;\n\nexport default Activity;","import React from \"react\";\nimport ReactCropper from \"react-cropper\";\nimport \"cropperjs/dist/cropper.css\";\nimport \"./Cropper.scss\";\nimport md5 from \"md5\";\nimport Activity from \"./Activity\";\nimport * as Icon from \"react-bootstrap-icons\";\n\nconst Cropper = ({image, onCrop, onBack}) => {\n  const cropperRef = React.useRef(null);\n\n  const onCropHandler = () => {\n    console.log(\"Crop event...\");\n    const imageElement = cropperRef?.current;\n    const cropper = imageElement?.cropper;\n    const { width, height } = cropper.getCropBoxData();\n    const src = cropper.getCroppedCanvas().toDataURL();\n    console.log(`Cropped image (${width}x${height}).`)\n    onCrop({\n      src: src,\n      meta: {\n        hash: md5(src),\n        width: width,\n        height: height,\n      }\n    });\n  };\n\n  return (\n    <div className=\"face-cropper\">\n      <Activity isVisible={true}>\n        { image && [\n          <ReactCropper\n            key=\"cropper\"\n            src={image.src}\n            initialAspectRatio={1}\n            guides={false}\n            autoCrop={true}\n            ref={cropperRef}\n            dragMode=\"crop\"\n            movable={false}\n            rotatable={false}\n            scalable={false}\n            zoomable={false}\n          />,\n          <Activity.OkButton key=\"ok-btn\" onClick={onCropHandler}><Icon.Check2 /></Activity.OkButton>,\n          <Activity.BackButton key=\"back-btn\" onClick={onBack}><Icon.X /></Activity.BackButton>\n        ]}\n      </Activity>\n    </div>\n  );\n};\n\nexport default Cropper;\n","export const fileToBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = error => reject(error);\n});\n\nexport const base64ToImage = base64 => new Promise((resolve, reject) => {\n  const image = new Image();\n  image.onload = () => resolve(image);\n  image.onerror = error => reject(error);\n  image.src = base64;\n});","import React from \"react\";\nimport md5 from \"md5\";\nimport Cropper from \"./Cropper\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport {\n  Button\n} from 'react-bootstrap';\nimport * as Utils from \"../utils\";\n\nconst SelfieUploadButton =  ({onSelfie}) => {\n  const fileInputRef = React.useRef();\n  const [rawImage, setRawImage] = React.useState(null);\n\n  const onImageUploadRequested = () => {\n    fileInputRef.current.click();\n  }\n\n  const onImageUploadedHandler = async (event) => {\n    const file = event.target.files[0];\n    const src = await Utils.fileToBase64(file);\n    const img = await Utils.base64ToImage(src);\n    setRawImage({\n      src: src,\n      meta: {\n        hash: md5(src),\n        width: img.width,\n        height: img.height,\n      }\n    });\n  };\n\n  const onBackHandler = () => {\n    cleanup();\n  };\n\n  const onCropHandler = (croppedImage) => {\n    onSelfie(croppedImage);\n    cleanup();\n  };\n\n  const cleanup = () => {\n    fileInputRef.current.value = null;\n    setRawImage(null);\n  };\n\n  return (\n    <span className=\"selfie-upload-button\">\n      <Button onClick={onImageUploadRequested} size=\"sm\" variant=\"outline-primary\"><Icon.Upload /></Button>\n      <input \n        type=\"file\"\n        accept=\"image/png, image/jpeg\"\n        capture=\"user\"\n        ref={fileInputRef}\n        onChange={onImageUploadedHandler}\n        style={{\n          \"display\": \"none\"\n        }}\n      />\n      { rawImage && \n        <Cropper\n          image={rawImage}\n          onCrop={onCropHandler}\n          onBack={onBackHandler}\n        />\n      }\n    </span>\n  );\n}\n\nexport default SelfieUploadButton;","export default __webpack_public_path__ + \"static/media/face-outline.d8b16a1f.svg\";","import Webcam from \"react-webcam\";\nimport React from 'react';\nimport Activity from \"./Activity\";\nimport \"./Camera.scss\";\nimport faceOutline from \"../resources/face-outline.svg\"\nimport * as Icon from 'react-bootstrap-icons';\nimport md5 from \"md5\";\nimport * as Utils from \"../utils\";\n\nconst Camera = ({ onCapture, onBack }) => {\n  const [isReady, setIsReady] = React.useState(false);\n  const webcamRef = React.useRef(null);\n  const onCaptureHandler = React.useCallback(\n    async () => {\n      console.log(\"Capture event...\")\n      const src = webcamRef.current.getScreenshot();\n      const image = await Utils.base64ToImage(src);\n      console.log(`Image captured (${image.width}x${image.height}).`)\n      onCapture({\n        src: src,\n        meta: {\n          hash: md5(src),\n          width: image.width,\n          height: image.height,\n        }\n      });\n    },\n    [webcamRef, onCapture]\n  );\n  \n  const onBackHandler = () => {\n    onBack();\n  };\n\n  return (\n    <div className=\"camera\">\n      <Activity isVisible={true}>\n        <div className=\"camera-wrapper\">\n          <Webcam\n            audio={false}\n            mirrored={true}\n            screenshotFormat=\"image/png\"\n            videoConstraints={{\n              facingMode: \"user\",\n              // width: { ideal: 4096 },\n              // height: { ideal: 2160 }\n            }}\n            onUserMedia={() => setIsReady(true)}\n            ref={webcamRef}\n          />\n          <img className=\"face-outline\" src={faceOutline} alt=\"Face Overlay\" />\n        </div>\n        { isReady && \n          <Activity.OkButton onClick={onCaptureHandler}><Icon.Camera /></Activity.OkButton>\n        }\n        <Activity.BackButton onClick={onBackHandler}><Icon.X /></Activity.BackButton>\n      </Activity>\n    </div>\n  );\n}\n\nexport default Camera;\n","import React from \"react\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport Cropper from \"./Cropper\";\nimport Camera from \"./Camera\";\nimport {\n  Button\n} from 'react-bootstrap';\n\nconst SelfieCaptureButton =  ({onSelfie}) => {\n  const [rawImage, setRawImage] = React.useState(null);\n  const [mode, setMode] = React.useState(null);\n\n  const onImageCaptureRequested = () => {\n    setMode(\"camera\");\n  };\n\n  const onCaptureHandler = (img) => {\n    setRawImage(img);\n    setMode(\"cropper\");\n  }\n\n  const onBackHandler = () => {\n    switch(mode) {\n      case \"camera\":\n        setMode(null);\n        break;\n      case \"cropper\":\n        setMode(\"camera\");\n        break;\n    }\n    setRawImage(null);\n  };\n\n  const onCropHandler = (img) => {\n    onSelfie(img);\n    setMode(null);\n    setRawImage(null);\n  };\n\n  return (\n    <span className=\"selfie-capture-button\">\n      <Button onClick={onImageCaptureRequested} size=\"sm\" variant=\"outline-primary\"><Icon.Camera /></Button>\n      { mode === \"camera\" && \n        <Camera onCapture={onCaptureHandler} onBack={onBackHandler} />\n      }\n      { mode === \"cropper\" && \n        <Cropper\n          image={rawImage}\n          onCrop={onCropHandler}\n          onBack={onBackHandler}\n        />\n      }\n    </span>\n  );\n}\n\nexport default SelfieCaptureButton;","import React from \"react\";\nimport Activity from \"./Activity\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport \"./ImagePreview.scss\";\n\nconst ImagePreview = ({ image }) => {\n\n  const [isPreviewOpened, setIsPreviewOpened] =  React.useState(false);\n\n  const openPreviewHandler = () => {\n    setIsPreviewOpened(true);\n  };\n\n  const closePreviewHandler = () => {\n    setIsPreviewOpened(false);\n  }\n\n  return (\n    <div className=\"image-preview\">\n      <div \n        className=\"image-thumbnail\"\n        onClick={openPreviewHandler}\n        style={{\n          backgroundImage: `url(\"${image.src}\")`\n        }}\n      />\n      { isPreviewOpened &&\n        <Activity isVisible={true}>\n          <div className=\"full-image\">\n            <img src={image.src} alt=\"Image Preview\" onClick={closePreviewHandler}/>\n            <div className=\"meta\">\n              <div>{image.meta.width} x {image.meta.height}</div>\n            </div>\n          </div>\n          <Activity.BackButton onClick={closePreviewHandler}><Icon.X /></Activity.BackButton>\n        </Activity>\n      }\n    </div>\n  );\n};\n\nexport default ImagePreview;","import React from \"react\";\nimport SelfieUploadButton from \"./SelfieUploadButton\";\nimport SelfieCaptureButton from \"./SelfieCaptureButton\";\nimport ImagePreview from \"./ImagePreview\";\nimport \"./PersonImages.scss\";\n\nconst PersonImages = ({type, index}) => {\n  const [images, setImages] = React.useState([]);\n\n  const onSelfieHandler = (img) => {\n    setImages([...images, img]);\n  };\n\n  const imageElements = images\n    .map(image => <ImagePreview key={image.meta.hash} image={image} />);\n\n  return (\n    <div className=\"person-images\">\n      <div className=\"type\">\n        <span>{type}</span>\n        { index && <span> #{index}</span> }\n      </div>\n\n      <div className=\"image-collection\">{imageElements}</div>\n\n      <div className=\"controls\">\n        <SelfieUploadButton onSelfie={onSelfieHandler} style={{ \"margin\": \"10px\" }} />\n        <SelfieCaptureButton onSelfie={onSelfieHandler} style={{ \"margin\": \"10px\" }} />\n      </div>\n\n    </div>\n  );\n};\n\nexport default PersonImages;","import React from \"react\";\nimport {\n  Button\n} from \"react-bootstrap\";\nimport PersonImages from \"../../components/PersonImages\";\n\nconst Step2 = ({onBack, onNext}) => {\n  return (\n    <section>\n      <h2 className=\"text-center\">Upload</h2>\n      <p>\n        Please provide at least one facial image per person (father, mother and one or more children).\n        Images provided on this step are stored only on your device.\n      </p>\n      <PersonImages type=\"Father\" />\n      <PersonImages type=\"Mother\" />\n      <PersonImages type=\"Son\" index={1} />\n      <PersonImages type=\"Son\" index={2} />\n      <p>\n        On the next step you can review your provided images and finish the contribution process.\n      </p>\n      <div className=\"workflow-buttons\">\n        <Button variant=\"outline-secondary\" onClick={onBack}>Back</Button>\n        <Button variant=\"outline-primary\" onClick={onNext}>Next</Button>\n      </div>\n    </section>\n  );\n};\n\nexport default Step2;","import React from \"react\";\nimport {\n  Button\n} from \"react-bootstrap\";\n\nconst Step3 = ({onBack, onNext}) => {\n  const [isConsentChecked, setIsConsentChecked] = React.useState(false);\n\n  const onConsentHandler = (event) => {\n    setIsConsentChecked(event.target.checked);\n  }\n\n  return (\n    <section>\n      <h2 className=\"text-center\">Finish</h2>\n      <p>\n        With click on the finish button your provided images will be uploaded to our dataset.\n      </p>\n      <input type=\"checkbox\" onChange={onConsentHandler} /> I consent with terms and conditions.\n      <div className=\"workflow-buttons\">\n        <Button variant=\"outline-secondary\" onClick={onBack}>Back</Button>\n        <Button variant=\"outline-primary\" onClick={onNext} disabled={!isConsentChecked}>Finish</Button>\n      </div>\n    </section>\n  );\n};\n\nexport default Step3;","import React from \"react\";\nimport {\n  Button\n} from \"react-bootstrap\";\n\nconst Step4 = ({onNext}) => {\n  return (\n    <section className=\"text-center\">\n      <h2>Thank you</h2>\n      <p>\n        Thank your for your contribution.\n      </p>\n      <div className=\"workflow-buttons\">\n        <Button variant=\"outline-primary\" onClick={onNext}>Close</Button>\n      </div>\n    </section>\n  );\n};\n\nexport default Step4;","import React from \"react\";\nimport \"./Contribute.scss\";\n\nimport Step1 from \"./contribute/Step1\";\nimport Step2 from \"./contribute/Step2\";\nimport Step3 from \"./contribute/Step3\";\nimport Step4 from \"./contribute/Step4\";\n\nconst Contribute = () => {\n  const [step, setStep] = React.useState(1);\n\n  const onFinishHandler = () => {\n    // TODO - Upload images\n    setStep(4);\n  };\n\n  return (\n    <section className=\"contribute\">\n      {\n        {\n          1: <Step1 onNext={() => setStep(2)} />,\n          2: <Step2 onNext={() => setStep(3)} onBack={() => setStep(1)} />,\n          3: <Step3 onNext={onFinishHandler} onBack={() => setStep(2)} />,\n          4: <Step4 onNext={() => setStep(1)} />,\n        }[step]\n      }\n    </section>\n  );\n}\n\nexport default Contribute;","\nconst Database = () => {\n  return (\n    <section>\n      <h1>Database</h1>\n      <p>\n        info about database, attributes, annotations, number of families, number of faces, ...\n      </p>\n    </section>\n  );\n}\n\nexport default Database;","\nconst About = () => {\n  return (\n    <section>\n      <h1>About</h1>\n      <p>\n        about, cite, ...\n      </p>\n    </section>\n  );\n}\n\nexport default About;","import React from \"react\";\nimport { \n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\"\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  Navbar,\n  Nav,\n  Container\n} from 'react-bootstrap';\n\nimport Home from \"./pages/Home\"\nimport Contribute from \"./pages/Contribute\"\nimport Database from \"./pages/Database\"\nimport About from \"./pages/About\"\n\nconst App = () => {\n\n  return (\n    <Router>\n      <Navbar bg=\"light\" expand=\"lg\" collapseOnSelect>\n        <Container>\n          <Navbar.Brand as={Link} to=\"/\" >CommunityFaceKinDB</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link as={Link} to=\"/\" >Home</Nav.Link>\n              <Nav.Link as={Link} to=\"/contribute\">Contribute</Nav.Link>\n              <Nav.Link as={Link} to=\"/database\">Database</Nav.Link>\n              <Nav.Link as={Link} to=\"/about\">About</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      <Container>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/contribute\">\n            <Contribute />\n          </Route>\n          <Route exact path=\"/database\">\n            <Database />\n          </Route>\n          <Route exact path=\"/about\" >\n            <About />\n          </Route>\n          <Route>\n            <NotFound path=\"*\" />\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n};\n\nconst NotFound = () => (<h1>404</h1>);\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}