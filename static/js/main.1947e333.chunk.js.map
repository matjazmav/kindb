{"version":3,"sources":["pages/Home.js","pages/contribute/Step1.js","resources/face-outline.svg","components/Camera.js","components/FaceCropper.js","components/Selfie.js","pages/contribute/Step2.js","pages/contribute/Step3.js","pages/Contribute.js","pages/Database.js","pages/About.js","App.js","reportWebVitals.js","index.js"],"names":["Home","Step1","Camera","onCapture","React","useState","isReady","setIsReady","webcamRef","useRef","capture","useCallback","imgSrc","current","getScreenshot","image","Image","onload","console","log","width","height","src","meta","className","style","display","audio","mirrored","screenshotFormat","videoConstraints","facingMode","onUserMedia","ref","faceOutline","onClick","FaceCropper","onCrop","cropperRef","crop","getCroppedCanvas","toDataURL","initialAspectRatio","guides","onInitialized","cropper","dragMode","movable","rotatable","scalable","zoomable","Selfie","onSelfie","faceCropperRef","rawImage","setRawImage","croppedImage","setCroppedImage","PersonRow","type","index","imageSources","setImageSources","isCaptureMode","setIsCaptureMode","images","map","img","Step2","Step3","Contribute","Nav","fill","Item","Link","as","to","path","Database","About","baseUrl","process","NotFound","App","Navbar","bg","expand","Container","Brand","Toggle","aria-controls","Collapse","id","default","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1947e333.chunk.js","sourcesContent":["\nconst Home = () => {\n  return (\n    <section>\n      <h1>CommunityFaceKinDB</h1>\n      <p>\n        Database of facial images colleced by community annotated with kinship attributes.\n      </p>\n    </section>\n  );\n}\n\nexport default Home;","const Step1 = () => {\n  return (\n    <section>\n      <h1>Step 1</h1>\n      <p>\n        Zakaj je ta anketa,\n        Kratka navodila,\n        poudari se anonimnost...\n      </p>\n    </section>\n  );\n};\n\nexport default Step1;","export default __webpack_public_path__ + \"static/media/face-outline.d8b16a1f.svg\";","import Webcam from \"react-webcam\";\nimport React from 'react';\nimport \"./camera.css\";\nimport faceOutline from \"../resources/face-outline.svg\"\nimport * as Icon from 'react-bootstrap-icons';\n\nconst Camera = ({ onCapture }) => {\n\n  const [isReady, setIsReady] = React.useState(false);\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    () => {\n      const imgSrc = webcamRef.current.getScreenshot();\n      const image = new Image();\n      image.onload = () => { \n        console.log(`Image captured (${image.width}x${image.height}).`)\n        onCapture({\n          src: imgSrc,\n          meta: {\n            width: image.width,\n            height: image.height,\n          }\n        });\n      }\n      image.src = imgSrc;\n    },\n    [webcamRef]\n  );\n  \n  return (\n    <div className=\"camera\">\n      <div className=\"camera-loader\" style={{display: !isReady ? \"block\" : \"none\"}}>\n        <Icon.HourglassSplit  /><br/>\n        <span>Opening camera...</span>\n      </div>\n      <div className=\"camera-view\" style={{display: isReady ? \"block\" : \"none\"}}>\n        <Webcam\n          audio={false}\n          mirrored={true}\n          screenshotFormat=\"image/png\"\n          videoConstraints={{\n            facingMode: \"user\",\n            // width: { ideal: 4096 },\n            // height: { ideal: 2160 }\n          }}\n          onUserMedia={() => setIsReady(true)}\n          ref={webcamRef} />\n        <img src={faceOutline} />\n      </div>\n      <div className=\"cammera-buttons\">\n        <button><Icon.X /></button>\n        <button onClick={capture}><Icon.Camera /></button>\n      </div>\n    </div>\n  );\n}\n\nexport default Camera;\n","import Webcam from \"react-webcam\";\nimport React from 'react';\nimport Cropper from 'react-cropper';\nimport 'cropperjs/dist/cropper.css';\nimport * as faceapi from 'face-api.js';\nimport \"./faceCropper.css\"\n\nconst FaceCropper = ({image, onCrop}) => {\n\n  const cropperRef = React.useRef(null);\n\n  const crop = React.useCallback(\n    () => {\n      onCrop(cropperRef.current.getCroppedCanvas().toDataURL());\n    },\n    [cropperRef]\n  );\n\n  const onCropperInit = (cropper) => {\n    cropperRef.current = cropper;\n  };\n\n  return (\n    <div className=\"face-cropper\">\n      <Cropper\n                src={image.src}\n                style={{height: image.meta.height, width: image.meta.width}}\n                initialAspectRatio={1}\n                guides={false}\n                crop={crop}\n                onInitialized={onCropperInit}\n                dragMode=\"crop\"\n                movable={false}\n                rotatable={false}\n                scalable={false}\n                zoomable={false}\n            />\n    </div>\n  );\n}\n\nexport default FaceCropper;\n","import React from \"react\";\nimport Camera from \"./Camera\"\nimport FaceCropper from \"./FaceCropper\"\nimport * as Icon from \"react-bootstrap-icons\"\nimport \"./selfie.css\"\n\nconst Selfie = ({onSelfie}) => {\n  const faceCropperRef = React.useRef();\n  const [rawImage, setRawImage] = React.useState(null);\n  const [croppedImage, setCroppedImage] = React.useState(null);\n\n  const goBack = () => {\n    setRawImage(null);\n    setCroppedImage(null);\n  }\n\n  const onCrop = () => {\n    onSelfie(croppedImage)\n  };\n\n  return (\n    <div className=\"selfie\">\n      { !rawImage && \n        <Camera onCapture={setRawImage} /> }\n      { rawImage &&\n        <div className=\"selfie-cropper\">\n          <FaceCropper image={rawImage} onCrop={setCroppedImage} ref={faceCropperRef} />\n          <div className=\"selfie-cropper-buttons\">\n            <button className=\"backBtn\" onClick={goBack}><Icon.X /></button>\n            <button className=\"okBtn\" onClick={onCrop}><Icon.Check2 /></button>\n          </div>\n        </div> }\n    </div>\n  );\n};\n\nexport default Selfie;","import React from \"react\";\nimport Selfie from \"../../components/Selfie\";\nimport \"./step2.css\";\n\nconst Step2 = () => {\n  return (\n    <section>\n      <h1>Step 2</h1>\n      <PersonRow type=\"Father\" />\n      <PersonRow type=\"Mother\" />\n      <PersonRow type=\"Son\" index={1} />\n    </section>\n  );\n};\n\nconst PersonRow = ({type, index}) => {\n  const [imageSources, setImageSources] = React.useState([]);\n  const [isCaptureMode, setIsCaptureMode] = React.useState(false);\n\n  const onCaptureRequested = () => setIsCaptureMode(true);\n  const onCaptureExited = (img) => {\n    setIsCaptureMode(false);\n    setImageSources([...imageSources, img]);\n  }\n\n  const images = imageSources.map(imgSrc => <img className=\"image-preview\" src={imgSrc} />);\n\n  return (\n    <div>\n      { isCaptureMode && <Selfie onSelfie={onCaptureExited} />  }\n      <div>\n        <span>{type}</span>\n        <span>#{index}</span>\n      </div>\n      <div>{images}</div>\n      <div>\n        <button>Upload</button>\n        <button onClick={onCaptureRequested}>Capture</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Step2;","const Step3 = () => {\n  return (\n    <section>\n      <h1>Step 3</h1>\n      <p>\n        Strinjaj se z obdelavo podatkov, povdari anonimnost, zahvali se\n      </p>\n    </section>\n  );\n};\n\nexport default Step3;","import React from \"react\";\nimport { Router, Link } from \"@reach/router\";\n\nimport Step1 from \"./contribute/Step1\"\nimport Step2 from \"./contribute/Step2\"\nimport Step3 from \"./contribute/Step3\"\n\nimport {\n  Nav\n} from 'react-bootstrap';\n\nconst Contribute = () => {\n\n  return (\n    <section>\n      <Nav fill className=\"justify-content-center\">\n        <Nav.Item>\n          <Nav.Link as={Link} to=\"1\">Intro</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={Link} to=\"2\">Upload</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link as={Link} to=\"3\" >Finish</Nav.Link>\n        </Nav.Item>\n      </Nav>\n\n      <Router>\n        <Step1 path=\"1\" />\n        <Step2 path=\"2\" />\n        <Step3 path=\"3\" />\n      </Router>\n\n    </section>\n  );\n}\n\nexport default Contribute;","\nconst Database = () => {\n  return (\n    <section>\n      <h1>Database</h1>\n      <p>\n        info about database, attributes, annotations, number of families, number of faces, ...\n      </p>\n    </section>\n  );\n}\n\nexport default Database;","\nconst About = () => {\n  return (\n    <section>\n      <h1>About</h1>\n      <p>\n        about, cite, ...\n      </p>\n    </section>\n  );\n}\n\nexport default About;","import React from \"react\";\nimport { Router, Link } from \"@reach/router\"\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  Navbar,\n  Nav,\n  Container\n} from 'react-bootstrap';\n\nimport Home from \"./pages/Home\"\nimport Contribute from \"./pages/Contribute\"\nimport Database from \"./pages/Database\"\nimport About from \"./pages/About\"\n\nconst baseUrl = process.env.REACT_APP_BASE_URL;\n\nconst App = () => {\n\n  return (\n    <section>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Container>\n          <Navbar.Brand as={Link} to={`${baseUrl}/`} >CommunityFaceKinDB</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link as={Link} to={`${baseUrl}/`} >Home</Nav.Link>\n              <Nav.Link as={Link} to={`${baseUrl}/contribute`}>Contribute</Nav.Link>\n              <Nav.Link as={Link} to={`${baseUrl}/database`}>Database</Nav.Link>\n              <Nav.Link as={Link} to={`${baseUrl}/about`}>About</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      <Container>\n        <Router>\n          <Home path={`${baseUrl}/`}/>\n          <Contribute path={`${baseUrl}/contribute/*`} />\n          <Database path={`${baseUrl}/database`} />\n          <About path={`${baseUrl}/about`} />\n          <NotFound default />\n        </Router>\n      </Container>\n    </section>\n  );\n};\n\nconst NotFound = () => (<h1>404</h1>);\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}