{"version":3,"sources":["pages/Home.js","pages/contribute/Step1.js","resources/face-outline.svg","utils.js","components/Camera.js","components/FaceCropper.js","components/SelfieCapture.js","components/SelfieUpload.js","components/PersonImages.js","pages/contribute/Step2.js","pages/contribute/Step3.js","pages/Contribute.js","pages/Database.js","pages/About.js","App.js","reportWebVitals.js","index.js"],"names":["Home","Step1","className","fileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","base64ToImage","base64","image","Image","src","Camera","onCapture","React","useState","isReady","setIsReady","webcamRef","useRef","capture","useCallback","a","console","log","current","getScreenshot","Utils","width","height","meta","hash","md5","style","display","audio","mirrored","screenshotFormat","videoConstraints","facingMode","onUserMedia","ref","faceOutline","onClick","FaceCropper","onCrop","cropperRef","setIsInitialized","cropHandler","cropHandlerHelper","removeEventListener","useEffect","addEventListener","cropendHandler","imageElement","cropper","getCropBoxData","getCroppedCanvas","toDataURL","initialAspectRatio","guides","autoCrop","crop","cropend","dragMode","movable","rotatable","scalable","zoomable","SelfieCapture","rawImage","setRawImage","croppedImage","setCroppedImage","SelfieUpload","onUpload","fileInputRef","imageUploadedHandler","event","target","files","img","Button","variant","click","type","onChange","PersonImages","index","images","setImages","isCaptureMode","setIsCaptureMode","isUploadMode","setIsUploadMode","imageElements","map","data-image-hash","backgroundImage","Step2","Step3","Contribute","step","setStep","getStepClassNames","i","classNames","1","2","3","Database","About","NotFound","App","Navbar","bg","expand","Container","Brand","as","Link","to","Toggle","aria-controls","Collapse","id","Nav","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c43d6b78.chunk.js","sourcesContent":["\nconst Home = () => {\n  return (\n    <section>\n      <h1>CommunityFaceKinDB</h1>\n      <p>\n        Database of facial images colleced by community annotated with kinship attributes.\n      </p>\n    </section>\n  );\n}\n\nexport default Home;","const Step1 = () => {\n  return (\n    <section className=\"text-justify\">\n      <h2 className=\"text-center\">Intro</h2>\n      <p>\n        One of the critical steps in <b>machine learning</b> / <b>artificial intelligence</b> is obtaining large and qualitative dataset.\n\n        To provide such dataset to the <b>research community</b>, we are kindly asking you for\n        your contribution. Please take <b>5 minutes</b> and contribute to our dataset.\n      </p>\n      <p>\n        We are tackling the problem of a <b>kinship</b> recognition, verification and synthesis of the <b>facial images</b>.\n\n        While some similar dataset already exists, the <b>quality</b> of images is <b>poor</b>.\n      </p>\n      <p>\n        Properties of high quality image are:\n        <ul>\n          <li>The image contain <b>only single face</b></li>\n          <li>Resolution of the facial area is big as possible</li>\n          <li>Face is possioned directly to the camera</li>\n          <li>Whole face is visible</li>\n        </ul>\n      </p>\n      <div>\n\n      </div>\n    </section>\n  );\n};\n\nexport default Step1;","export default __webpack_public_path__ + \"static/media/face-outline.d8b16a1f.svg\";","export const fileToBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = error => reject(error);\n});\n\nexport const base64ToImage = base64 => new Promise((resolve, reject) => {\n  const image = new Image();\n  image.onload = () => resolve(image);\n  image.onerror = error => reject(error);\n  image.src = base64;\n});","import Webcam from \"react-webcam\";\nimport React from 'react';\nimport \"./Camera.css\";\nimport faceOutline from \"../resources/face-outline.svg\"\nimport * as Icon from 'react-bootstrap-icons';\nimport md5 from \"md5\";\nimport * as Utils from \"../utils\";\n\nconst Camera = ({ onCapture }) => {\n\n  const [isReady, setIsReady] = React.useState(false);\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    async () => {\n      console.log(\"Capture event...\")\n      const src = webcamRef.current.getScreenshot();\n      const image = await Utils.base64ToImage(src);\n      console.log(`Image captured (${image.width}x${image.height}).`)\n      onCapture({\n        src: src,\n        meta: {\n          hash: md5(src),\n          width: image.width,\n          height: image.height,\n        }\n      });\n    },\n    [webcamRef]\n  );\n  \n  return (\n    <div className=\"camera\">\n      <div className=\"camera-loader\" style={{display: !isReady ? \"block\" : \"none\"}}>\n        <Icon.HourglassSplit  /><br/>\n        <span>Opening camera...</span>\n      </div>\n      <div className=\"camera-view\" style={{display: isReady ? \"block\" : \"none\"}}>\n        <Webcam\n          audio={false}\n          mirrored={true}\n          screenshotFormat=\"image/png\"\n          videoConstraints={{\n            facingMode: \"user\",\n            // width: { ideal: 4096 },\n            // height: { ideal: 2160 }\n          }}\n          onUserMedia={() => setIsReady(true)}\n          ref={webcamRef} />\n        <img src={faceOutline} />\n      </div>\n      <div className=\"cammera-buttons\">\n        <button><Icon.X /></button>\n        <button onClick={capture}><Icon.Camera /></button>\n      </div>\n    </div>\n  );\n}\n\nexport default Camera;\n","import React from 'react';\nimport Cropper from 'react-cropper';\nimport 'cropperjs/dist/cropper.css';\nimport \"./faceCropper.css\";\nimport md5 from \"md5\";\n\nconst FaceCropper = ({image, onCrop}) => {\n\n  const cropperRef = React.useRef(null);\n  const [isInitialized, setIsInitialized] = React.useState(false);\n\n  const cropHandler = () => {\n    console.log(\"Initial crop event...\");\n    cropHandlerHelper();\n    cropperRef.current.removeEventListener('crop', cropHandler);\n  };\n\n  React.useEffect(() => {\n    cropperRef.current.addEventListener('crop', cropHandler);\n    return () => {\n      cropperRef.current.removeEventListener('crop', cropHandler);\n    }\n  }, []);\n\n  const cropendHandler = React.useCallback(\n    () => {\n      cropHandlerHelper();\n    },\n    [cropperRef]\n  );\n\n  const cropHandlerHelper = () => {\n    console.log(\"Cropend event...\");\n    const imageElement = cropperRef?.current;\n    const cropper = imageElement?.cropper;\n    const { width, height } = cropper.getCropBoxData();\n    const src = cropper.getCroppedCanvas().toDataURL();\n    console.log(`Cropped image (${width}x${height}).`)\n    onCrop({\n      src: src,\n      meta: {\n        hash: md5(src),\n        width: width,\n        height: height,\n      }\n    });\n    setIsInitialized(true);\n  }\n\n  return (\n    <div className=\"face-cropper\">\n      <Cropper\n                src={image.src}\n                initialAspectRatio={1}\n                guides={false}\n                autoCrop={true}\n                crop={cropHandler}\n                cropend={cropendHandler}\n                ref={cropperRef}\n                dragMode=\"crop\"\n                movable={false}\n                rotatable={false}\n                scalable={false}\n                zoomable={false}\n            />\n    </div>\n  );\n}\n\nexport default FaceCropper;\n","import React from \"react\";\nimport Camera from \"./Camera\"\nimport FaceCropper from \"./FaceCropper\"\nimport * as Icon from \"react-bootstrap-icons\"\nimport \"./SelfieCapture.css\"\n\nconst SelfieCapture = ({onCapture}) => {\n  const [rawImage, setRawImage] = React.useState(null);\n  const [croppedImage, setCroppedImage] = React.useState(null);\n\n  const backHandler = () => {\n    setRawImage(null);\n    setCroppedImage(null);\n  }\n\n  const cropHandler = () => {\n    onCapture(croppedImage)\n  };\n\n  return (\n    <div className=\"selfie-capture\">\n      { !rawImage && \n        <Camera onCapture={setRawImage} /> }\n      { rawImage &&\n        <div className=\"selfie-cropper\">\n          <FaceCropper image={rawImage} onCrop={setCroppedImage} />\n          <button className=\"backBtn\" onClick={backHandler}><Icon.X /></button>\n          <button className=\"okBtn\" onClick={cropHandler}><Icon.Check2 /></button>\n        </div> }\n    </div>\n  );\n};\n\nexport default SelfieCapture;","import React from \"react\";\nimport md5 from \"md5\";\nimport FaceCropper from \"./FaceCropper\"\nimport * as Icon from \"react-bootstrap-icons\"\nimport \"./SelfieUpload.css\"\nimport {\n  Button\n} from 'react-bootstrap';\nimport * as Utils from \"../utils\";\n\nconst SelfieUpload =  ({onUpload}) => {\n  const fileInputRef = React.useRef();\n  const [rawImage, setRawImage] = React.useState(null);\n  const [croppedImage, setCroppedImage] = React.useState(null);\n\n  const imageUploadedHandler = async (event) => {\n    const file = event.target.files[0];\n    const src = await Utils.fileToBase64(file);\n    const img = await Utils.base64ToImage(src);\n    setRawImage({\n      src: src,\n      meta: {\n        hash: md5(src),\n        width: img.width,\n        height: img.height,\n      }\n    });\n  };\n\n  const backHandler = () => {\n    setRawImage(null);\n    setCroppedImage(null);\n  }\n\n  const cropHandler = () => {\n    onUpload(croppedImage)\n  };\n\n  return (\n    <div className=\"selfie-upload\">\n      { !rawImage && <div>\n        <Button variant=\"outline-primary\" onClick={() => fileInputRef.current.click()}>Choose File</Button>\n        <input type=\"file\" ref={fileInputRef} onChange={imageUploadedHandler} style={{display: \"none\"}} /> \n      </div> }\n      { rawImage &&\n        <div className=\"selfie-cropper\">\n          <FaceCropper image={rawImage} onCrop={setCroppedImage} />\n          <button className=\"backBtn\" onClick={backHandler}><Icon.X /></button>\n          <button className=\"okBtn\" onClick={cropHandler}><Icon.Check2 /></button>\n        </div> }\n    </div>\n  );\n}\n\nexport default SelfieUpload;","import React from \"react\";\nimport SelfieCapture from \"./SelfieCapture\";\nimport SelfieUpload from \"./SelfieUpload\";\n\nconst PersonImages = ({type, index}) => {\n  const [images, setImages] = React.useState([]);\n  const [isCaptureMode, setIsCaptureMode] = React.useState(false);\n  const [isUploadMode, setIsUploadMode] = React.useState(false);\n\n  const captureBtnClkHandler = () => setIsCaptureMode(true);\n  const uploadBtnClkHandler = () => setIsUploadMode(true);\n  const captureHandler = (img) => {\n    setIsCaptureMode(false);\n    setImages([...images, img]);\n  }\n  const uploadHandler = (img) => {\n    setIsUploadMode(false);\n    setImages([...images, img]);\n  }\n\n  const imageElements = images\n    .map(image => <div\n      key={image.meta.hash}\n      data-image-hash={image.meta.hash}\n      style={{\n        backgroundImage: `url(\"${image.src}\")`\n      }}\n      className=\"image-preview\" />);\n\n  return (\n    <div>\n      { isCaptureMode && <SelfieCapture onCapture={captureHandler} />  }\n      { isUploadMode && <SelfieUpload onUpload={uploadHandler} />  }\n      <div>\n        <span>{type}</span>\n        <span>#{index}</span>\n      </div>\n      <div>{imageElements}</div>\n      <div>\n        <button onClick={uploadBtnClkHandler}>Upload</button>\n        <button onClick={captureBtnClkHandler}>Capture</button>\n      </div>\n    </div>\n  );\n};\n\nexport default PersonImages;","import React from \"react\";\nimport PersonImages from \"../../components/PersonImages\";\nimport \"./step2.css\";\n\nconst Step2 = () => {\n  return (\n    <section>\n      <h2 className=\"text-center\">Upload</h2>\n      <PersonImages type=\"Father\" />\n      <PersonImages type=\"Mother\" />\n      <PersonImages type=\"Son\" index={1} />\n      <PersonImages type=\"Son\" index={2} />\n    </section>\n  );\n};\n\nexport default Step2;","const Step3 = () => {\n  return (\n    <section>\n      <h2 className=\"text-center\">Finish</h2>\n      <p>\n        Strinjaj se z obdelavo podatkov, povdari anonimnost, zahvali se\n      </p>\n    </section>\n  );\n};\n\nexport default Step3;","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./Contribute.css\";\n\nimport Step1 from \"./contribute/Step1\";\nimport Step2 from \"./contribute/Step2\";\nimport Step3 from \"./contribute/Step3\";\n\nimport {\n  Button\n} from 'react-bootstrap';\n\nconst Contribute = () => {\n  const [step, setStep] = React.useState(1);\n\n  const getStepClassNames = (i) => classNames({\n    \"is-active text-primary\": i == step,\n    \"is-done text-success\": i < step,\n    \"is-done text-secondary\": i > step,\n  });\n\n  return (\n    <section className=\"contribute\">\n\n      <div className=\"workflow-steps\">\n        <span className={getStepClassNames(1)}>Step 1: Intro</span>\n        <span className={getStepClassNames(2)}>Step 2: Upload</span>\n        <span className={getStepClassNames(3)}>Step 3: Finish</span>\n      </div>\n\n      {\n        {\n          1: <Step1 />,\n          2: <Step2 />,\n          3: <Step3 />\n        }[step]\n      }\n\n      <div className=\"workflow-buttons\">\n        { step == 1 && <Button variant=\"outline-primary\" onClick={() => setStep(2)}>Contribute</Button> }\n        { step > 1 && <Button variant=\"outline-secondary\" onClick={() => setStep(step-1)}>Back</Button> }\n        { step == 2 && <Button variant=\"outline-primary\" onClick={() => setStep(3)}>Next</Button> }\n        { step == 3 && <Button variant=\"outline-primary\" onClick={() => setStep(4)}>Finish</Button> }\n      </div>\n\n    </section>\n  );\n}\n\nexport default Contribute;","\nconst Database = () => {\n  return (\n    <section>\n      <h1>Database</h1>\n      <p>\n        info about database, attributes, annotations, number of families, number of faces, ...\n      </p>\n    </section>\n  );\n}\n\nexport default Database;","\nconst About = () => {\n  return (\n    <section>\n      <h1>About</h1>\n      <p>\n        about, cite, ...\n      </p>\n    </section>\n  );\n}\n\nexport default About;","import React from \"react\";\nimport { \n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\"\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  Navbar,\n  Nav,\n  Container\n} from 'react-bootstrap';\n\nimport Home from \"./pages/Home\"\nimport Contribute from \"./pages/Contribute\"\nimport Database from \"./pages/Database\"\nimport About from \"./pages/About\"\n\nconst baseUrl = process.env.REACT_APP_BASE_URL;\n\nconst App = () => {\n\n  return (\n    <Router>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Container>\n          <Navbar.Brand as={Link} to=\"/\" >CommunityFaceKinDB</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <Nav.Link as={Link} to=\"/\" >Home</Nav.Link>\n              <Nav.Link as={Link} to=\"/contribute\">Contribute</Nav.Link>\n              <Nav.Link as={Link} to=\"/database\">Database</Nav.Link>\n              <Nav.Link as={Link} to=\"/about\">About</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n\n      <Container>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/contribute\">\n            <Contribute />\n          </Route>\n          <Route exact path=\"/database\">\n            <Database />\n          </Route>\n          <Route exact path=\"/about\" >\n            <About />\n          </Route>\n          <Route>\n            <NotFound path=\"*\" />\n          </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n};\n\nconst NotFound = () => (<h1>404</h1>);\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}