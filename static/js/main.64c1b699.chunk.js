(this["webpackJsonpkindb-survey-ui"]=this["webpackJsonpkindb-survey-ui"]||[]).push([[0],{40:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),i=n(10),r=n.n(i),o=(n(40),n(8)),j=(n(46),n(71)),l=n(70),u=n(72),b=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"CommunityFaceKinDB"}),Object(c.jsx)("p",{children:"Database of facial images colleced by community annotated with kinship attributes."})]})},d=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"Step 1"}),Object(c.jsx)("p",{children:"Zakaj je ta anketa, Kratka navodila, poudari se anonimnost..."})]})},h=n(14),O=n.n(h),x=n(17),p=n(16),f=n(7),m=n(12),v=n.n(m),g=(n(50),n(29)),k=n.n(g),C=(n(56),n.p+"static/media/face-outline.d8b16a1f.svg"),w=n(66),y=n(67),S=n(68),N=function(e){var t=e.onCapture,n=s.a.useState(!1),a=Object(f.a)(n,2),i=a[0],r=a[1],o=s.a.useRef(null),j=s.a.useCallback((function(){console.log("Capture event...");var e=o.current.getScreenshot(),n=new Image;n.onload=function(){console.log("Image captured (".concat(n.width,"x").concat(n.height,").")),t({src:e,meta:{hash:v()(e),width:n.width,height:n.height}})},n.src=e}),[o]);return Object(c.jsxs)("div",{className:"camera",children:[Object(c.jsxs)("div",{className:"camera-loader",style:{display:i?"none":"block"},children:[Object(c.jsx)(w.a,{}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{children:"Opening camera..."})]}),Object(c.jsxs)("div",{className:"camera-view",style:{display:i?"block":"none"},children:[Object(c.jsx)(k.a,{audio:!1,mirrored:!0,screenshotFormat:"image/png",videoConstraints:{facingMode:"user"},onUserMedia:function(){return r(!0)},ref:o}),Object(c.jsx)("img",{src:C})]}),Object(c.jsxs)("div",{className:"cammera-buttons",children:[Object(c.jsx)("button",{children:Object(c.jsx)(y.a,{})}),Object(c.jsx)("button",{onClick:j,children:Object(c.jsx)(S.a,{})})]})]})},L=n(30),I=(n(57),n(58),function(e){var t=e.image,n=e.onCrop,a=s.a.useRef(null),i=s.a.useState(!1),r=Object(f.a)(i,2),o=(r[0],r[1]),j=function e(){console.log("Initial crop event..."),u(),a.current.removeEventListener("crop",e)};s.a.useEffect((function(){return a.current.addEventListener("crop",j),function(){a.current.removeEventListener("crop",j)}}),[]);var l=s.a.useCallback((function(){u()}),[a]),u=function(){console.log("Cropend event...");var e=null===a||void 0===a?void 0:a.current,t=null===e||void 0===e?void 0:e.cropper,c=t.getCropBoxData(),s=c.width,i=c.height,r=t.getCroppedCanvas().toDataURL();console.log("Cropped image (".concat(s,"x").concat(i,").")),n({src:r,meta:{hash:v()(r),width:s,height:i}}),o(!0)};return Object(c.jsx)("div",{className:"face-cropper",children:Object(c.jsx)(L.a,{src:t.src,initialAspectRatio:1,guides:!1,autoCrop:!0,crop:j,cropend:l,ref:a,dragMode:"crop",movable:!1,rotatable:!1,scalable:!1,zoomable:!1})})}),B=n(69),F=(n(59),function(e){var t=e.onCapture,n=s.a.useState(null),a=Object(f.a)(n,2),i=a[0],r=a[1],o=s.a.useState(null),j=Object(f.a)(o,2),l=j[0],u=j[1];return Object(c.jsxs)("div",{className:"selfie-capture",children:[!i&&Object(c.jsx)(N,{onCapture:r}),i&&Object(c.jsxs)("div",{className:"selfie-cropper",children:[Object(c.jsx)(I,{image:i,onCrop:u}),Object(c.jsx)("button",{className:"backBtn",onClick:function(){r(null),u(null)},children:Object(c.jsx)(y.a,{})}),Object(c.jsx)("button",{className:"okBtn",onClick:function(){t(l)},children:Object(c.jsx)(B.a,{})})]})]})}),D=(n(60),function(e){var t=e.onUpload,n=s.a.useRef(),a=s.a.useState(null),i=Object(f.a)(a,2),r=i[0],o=i[1],j=s.a.useState(null),l=Object(f.a)(j,2),u=l[0],b=l[1],d=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c,a,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],c=function(e){return new Promise((function(t,n){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){return t(c.result)},c.onerror=function(e){return n(e)}}))},a=function(e){return new Promise((function(t,n){var c=new Image;c.onload=function(){return t(c)},c.onerror=function(e){return n(e)},c.src=e}))},e.next=5,c(n);case 5:return s=e.sent,e.next=8,a(s);case 8:i=e.sent,o({src:s,meta:{hash:v()(s),width:i.width,height:i.height}});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"selfie-upload",children:[!r&&Object(c.jsx)("input",{type:"file",ref:n,onChange:d}),r&&Object(c.jsxs)("div",{className:"selfie-cropper",children:[Object(c.jsx)(I,{image:r,onCrop:b}),Object(c.jsx)("button",{className:"backBtn",onClick:function(){o(null),b(null)},children:Object(c.jsx)(y.a,{})}),Object(c.jsx)("button",{className:"okBtn",onClick:function(){t(u)},children:Object(c.jsx)(B.a,{})})]})]})}),R=(n(61),function(e){var t=e.type,n=e.index,a=s.a.useState([]),i=Object(f.a)(a,2),r=i[0],o=i[1],j=s.a.useState(!1),l=Object(f.a)(j,2),u=l[0],b=l[1],d=s.a.useState(!1),h=Object(f.a)(d,2),O=h[0],x=h[1],m=r.map((function(e){return Object(c.jsx)("div",{"data-image-hash":e.meta.hash,style:{backgroundImage:'url("'.concat(e.src,'")')},className:"image-preview"},e.meta.hash)}));return Object(c.jsxs)("div",{children:[u&&Object(c.jsx)(F,{onCapture:function(e){b(!1),o([].concat(Object(p.a)(r),[e]))}}),O&&Object(c.jsx)(D,{onUpload:function(e){x(!1),o([].concat(Object(p.a)(r),[e]))}}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{children:t}),Object(c.jsxs)("span",{children:["#",n]})]}),Object(c.jsx)("div",{children:m}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{onClick:function(){return x(!0)},children:"Upload"}),Object(c.jsx)("button",{onClick:function(){return b(!0)},children:"Capture"})]})]})}),U=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"Step 2"}),Object(c.jsx)(R,{type:"Father"}),Object(c.jsx)(R,{type:"Mother"}),Object(c.jsx)(R,{type:"Son",index:1})]})},E=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"Step 3"}),Object(c.jsx)("p",{children:"Strinjaj se z obdelavo podatkov, povdari anonimnost, zahvali se"})]})},M=function(){return Object(c.jsxs)("section",{children:[Object(c.jsxs)(u.a,{fill:!0,className:"justify-content-center",children:[Object(c.jsx)(u.a.Item,{children:Object(c.jsx)(u.a.Link,{as:o.a,to:"1",children:"Intro"})}),Object(c.jsx)(u.a.Item,{children:Object(c.jsx)(u.a.Link,{as:o.a,to:"2",children:"Upload"})}),Object(c.jsx)(u.a.Item,{children:Object(c.jsx)(u.a.Link,{as:o.a,to:"3",children:"Finish"})})]}),Object(c.jsxs)(o.b,{children:[Object(c.jsx)(d,{path:"1"}),Object(c.jsx)(U,{path:"2"}),Object(c.jsx)(E,{path:"3"})]})]})},A=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"Database"}),Object(c.jsx)("p",{children:"info about database, attributes, annotations, number of families, number of faces, ..."})]})},P=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("p",{children:"about, cite, ..."})]})},z="kindb",K=function(){return Object(c.jsx)("h1",{children:"404"})},T=function(){return Object(c.jsxs)("section",{children:[Object(c.jsx)(j.a,{bg:"light",expand:"lg",children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)(j.a.Brand,{as:o.a,to:"".concat(z,"/"),children:"CommunityFaceKinDB"}),Object(c.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(u.a,{className:"mr-auto",children:[Object(c.jsx)(u.a.Link,{as:o.a,to:"".concat(z,"/"),children:"Home"}),Object(c.jsx)(u.a.Link,{as:o.a,to:"".concat(z,"/contribute"),children:"Contribute"}),Object(c.jsx)(u.a.Link,{as:o.a,to:"".concat(z,"/database"),children:"Database"}),Object(c.jsx)(u.a.Link,{as:o.a,to:"".concat(z,"/about"),children:"About"})]})})]})}),Object(c.jsx)(l.a,{children:Object(c.jsxs)(o.b,{children:[Object(c.jsx)(b,{path:"".concat(z,"/")}),Object(c.jsx)(M,{path:"".concat(z,"/contribute/*")}),Object(c.jsx)(A,{path:"".concat(z,"/database")}),Object(c.jsx)(P,{path:"".concat(z,"/about")}),Object(c.jsx)(K,{default:!0})]})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root")),J()}},[[64,1,2]]]);
//# sourceMappingURL=main.64c1b699.chunk.js.map